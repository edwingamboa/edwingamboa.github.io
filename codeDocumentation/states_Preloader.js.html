<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: states/Preloader.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: states/Preloader.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @ignore Created by Edwin Gamboa on 08/07/2015.
 */
/**
 * Phaser state to load all assets.
 * @class Preloader
 * @constructor
 * @param {Phaser.Game} game - Phaser game object.
 */
var Preloader = function(game) {
    this.ready = false;
};

/**
 * Manages this state behavior.
 * @method Preloader.preload
 */
Preloader.prototype.preload = function() {
    this.displayLoadScreen();
    this.loadAssets();
};

/**
 * Displays loading bar while assets load.
 * @method Preloader.displayLoadScreen
 */
Preloader.prototype.displayLoadScreen = function() {
    var centerX = this.game.camera.width / 2;
    var centerY = this.game.camera.height / 2;

    this.loading = this.game.add.sprite(centerX, centerY - 20, 'loading');
    this.loading.anchor.setTo(0.5, 0.5);

    this.barBg = this.game.add.sprite(centerX, centerY + 40,
        'load_progress_bar_dark');
    this.barBg.anchor.setTo(0.5, 0.5);

    this.bar = this.game.add.sprite(centerX - 192, centerY + 40,
        'load_progress_bar');
    this.bar.anchor.setTo(0, 0.5);
    this.load.setPreloadSprite(this.bar);

    // onLoadComplete is dispatched when the final file in the load queue
    // has been loaded/failed. addOnce adds that function as a callback,
    // but only to fire once.
    this.load.onLoadComplete.addOnce(this.onLoadComplete, this);
};

/**
 * Loads game assets.
 * @method Preloader.loadAssets
 */
Preloader.prototype.loadAssets = function() {
    //Menu assets
    //Level assets
    this.game.load.image('worldBg', 'assets/images/worldBg.png');
    this.game.load.image('ground', 'assets/images/platform.png');
    this.game.load.image('healthPack5', 'assets/images/healthPack5.png');
    this.game.load.image('healthPack20', 'assets/images/healthPack20.png');
    this.game.load.image('healthPack50', 'assets/images/healthPack50.png');
    this.game.load.image('inventory_button', 'assets/images/inventory.png');
    this.game.load.image('storeButton', 'assets/images/store.png');
    this.game.load.image('store', 'assets/images/storeBig.png');
    this.game.load.image('popUpBg',
        'assets/images/popUpBg.png');
    this.game.load.image('close', 'assets/images/close.png');
    this.game.load.image('itemGroupBg', 'assets/images/itemGroupBg.png');
    this.game.load.image('myVocabularyItemBg',
        'assets/images/myVocabularyItemBg.png');
    this.game.load.image('dialogBg', 'assets/images/dialogBg.png');
    this.game.load.image('errorIcon', 'assets/images/errorIcon.png');
    this.game.load.image('successIcon', 'assets/images/successIcon.png');

    this.game.load.spritesheet('character', 'assets/sprites/character.png',
        64, 96);
    this.game.load.spritesheet('wife', 'assets/sprites/wife.png',
        64, 96);
    this.game.load.spritesheet('npc', 'assets/sprites/npc.png',
        64, 96);
    this.game.load.spritesheet('friend', 'assets/sprites/npc.png',
        64, 96);
    this.game.load.spritesheet('daughter', 'assets/sprites/daughter.png',
        40, 60);
    this.game.load.spritesheet('son', 'assets/sprites/son.png',
        40, 60);

    this.game.load.spritesheet('simple_enemy',
        'assets/sprites/simple_enemy.png', 64, 64);
    this.game.load.spritesheet('strong_enemy',
        'assets/sprites/strong_enemy.png', 64, 64);
    this.game.load.spritesheet('strongestEnemy',
        'assets/sprites/strongestEnemy.png', 80, 80);

    this.game.load.spritesheet('jeep', 'assets/sprites/jeep.png', 219.5, 150);
    this.game.load.spritesheet('bus', 'assets/sprites/bus.png', 400, 180);
    this.game.load.spritesheet('taxi', 'assets/sprites/taxi.png', 215, 100);
    this.game.load.spritesheet('truck', 'assets/sprites/truck.png', 400, 239);
    this.game.load.spritesheet('car', 'assets/sprites/car.png', 237, 100);
    this.game.load.spritesheet('ambulance', 'assets/sprites/ambulance.png', 300,
        144);

    this.game.load.spritesheet('revolver', 'assets/sprites/revolver.png',
        30, 16);
    this.game.load.spritesheet('machineGun',
        'assets/sprites/machineGun.png', 60, 42);

    var i;
    for (i = 1; i &lt;= 2; i++) {
        this.game.load.image('bullet' + i, 'assets/images/bullet' + i +
            '.png');
    }
    this.game.load.image('simpleWeapon',
        'assets/images/revolver.png');
    this.game.load.image('strongWeapon',
        'assets/images/machineGun.png');
    this.game.load.image('house', 'assets/images/house.png');
    this.game.load.image('openDoor', 'assets/images/openDoor.png');
    this.game.load.image('working', 'assets/images/working.png');
    this.game.load.image('addCashButton', 'assets/images/addCash.png');
    this.game.load.image('myVocabularyButton',
        'assets/images/myVocabulary.png');
    this.game.load.image('button', 'assets/images/button.png');
    this.game.load.image('iconButton', 'assets/images/iconButton.png');
    this.game.load.image('toolsBar', 'assets/images/toolsBar.png');

    this.game.load.image('lettersBg', 'assets/images/lettersBg.png');
    this.game.load.image('wordsBg', 'assets/images/wordsBg.png');
    this.game.load.image('wordBg', 'assets/images/wordBg.png');
    this.game.load.image('spaceBg', 'assets/images/spaceBg.png');
    this.game.load.image('letterBg', 'assets/images/letterBg.png');
    this.game.load.image('transparent', 'assets/images/transparent.png');
    this.game.load.image('healthBarBackground',
        'assets/images/healthBarBackground.png');
    this.game.load.image('healthBar', 'assets/images/healthBar.png');

    this.game.load.image('healthPack5Icon',
        'assets/icons/healthPack5Icon.png');
    this.game.load.image('healthPack20Icon',
        'assets/icons/healthPack20Icon.png');
    this.game.load.image('revolverIcon', 'assets/icons/revolverIcon.png');
    this.game.load.image('machineGunIcon', 'assets/icons/machineGunIcon.png');
    this.game.load.image('unscramble', 'assets/icons/unscramble.png');
    this.game.load.image('contexts', 'assets/icons/contexts.png');
    this.game.load.image('imageWord', 'assets/icons/imageWord.png');
    this.game.load.image('health', 'assets/icons/health.png');
    this.game.load.image('ammo', 'assets/icons/ammo.png');
    this.game.load.image('money', 'assets/icons/money.png');
    this.game.load.image('learned', 'assets/icons/learned.png');

    this.game.load.image('popUpPanelBg',
        'assets/images/popUpPanelBg.png');
    this.game.load.image('tabBg', 'assets/images/tabBg.png');
    this.game.load.image('contextBg', 'assets/images/contextBg.png');
    this.game.load.image('englishChallengePanelBg',
        'assets/images/englishChallengePanelBg.png');
    this.game.load.image('imageWordBg', 'assets/images/imageWordBg.png');

    this.game.load.image('forgive', 'assets/images/vocabulary/forgive.png');
    this.game.load.image('bookStore', 'assets/images/vocabulary/bookStore.png');
    this.game.load.image('playground',
        'assets/images/vocabulary/playground.png');
    this.game.load.image('zoo', 'assets/images/vocabulary/zoo.png');
    this.game.load.image('gasStation',
        'assets/images/vocabulary/gasStation.png');

    this.game.load.image('bank', 'assets/images/vocabulary/bank.png');
    this.game.load.image('coffeeShop',
        'assets/images/vocabulary/coffeeShop.png');
    this.game.load.image('hospital', 'assets/images/vocabulary/hospital.png');
    this.game.load.image('school', 'assets/images/vocabulary/school.png');
    this.game.load.image('factory', 'assets/images/vocabulary/factory.png');

    this.game.load.image('fireStation',
        'assets/images/vocabulary/fireStation.png');
    this.game.load.image('policeStation',
        'assets/images/vocabulary/policeStation.png');
    this.game.load.image('hotel', 'assets/images/vocabulary/hotel.png');
    this.game.load.image('superMarket',
        'assets/images/vocabulary/superMarket.png');

    this.game.load.image('trees', 'assets/images/trees.png');
    this.game.load.image('surrender', 'assets/images/surrender.png');
    this.game.load.image('orangeHouse',
        'assets/images/vocabulary/orangeHouse.png');
    this.game.load.image('greenHouse',
        'assets/images/vocabulary/greenHouse.png');
    this.game.load.image('whiteHouse',
        'assets/images/vocabulary/whiteHouse.png');
    this.game.load.image('yellowHouse',
        'assets/images/vocabulary/yellowHouse.png');
    this.game.load.image('redHouse',
        'assets/images/vocabulary/redHouse.png');
    this.game.load.image('blueHouse',
        'assets/images/vocabulary/blueHouse.png');
    this.game.load.image('nameBoard',
        'assets/images/vocabulary/nameBoard.png');
    this.game.load.image('necklace', 'assets/images/vocabulary/necklace.png');
    this.game.load.image('glasses', 'assets/images/vocabulary/glasses.png');
    this.game.load.image('watch', 'assets/images/vocabulary/watch.png');
    this.game.load.image('ring', 'assets/images/vocabulary/ring.png');
    this.game.load.image('cap', 'assets/images/vocabulary/cap.png');
    this.game.load.image('bracelet', 'assets/images/vocabulary/bracelet.png');
    this.game.load.image('family', 'assets/images/vocabulary/family.png');
    this.game.load.image('mother', 'assets/images/vocabulary/mother.png');
    this.game.load.image('father', 'assets/images/vocabulary/father.png');
    this.game.load.image('husband', 'assets/images/vocabulary/father.png');
    this.game.load.image('child', 'assets/images/vocabulary/child.png');
    this.game.load.image('kid', 'assets/images/vocabulary/child.png');
    this.game.load.image('parent', 'assets/images/vocabulary/parent.png');
    this.game.load.image('comicBg', 'assets/images/comics/comicBg.png');
    var key;
    for (i = 1; i &lt;= 7; i++) {
        key = 'intro' + i;
        this.game.load.image(key, 'assets/images/comics/' + key + '.png');
    }

    this.game.load.image('mediumPopUpBg', 'assets/images/mediumPopUpBg.png');
    this.game.load.image('emptyRoom', 'assets/images/emptyRoom.png');
};

/**
 * Starts menu state.
 * @method Preloader.update
 */
Preloader.prototype.update = function() {
    if (!!this.ready) {
        this.game.state.start('menu');
        level = this.game.state.states.levelOne;

    }
};

/**
 * Indicates that assets are already load.
 * @method Preloader.onLoadComplete
 */
Preloader.prototype.onLoadComplete = function() {
    this.ready = true;
};

module.exports = Preloader;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Boot.html">Boot</a></li><li><a href="Bullet.html">Bullet</a></li><li><a href="Button.html">Button</a></li><li><a href="Character.html">Character</a></li><li><a href="ClueItem.html">ClueItem</a></li><li><a href="ContextGroups.html">ContextGroups</a></li><li><a href="Dialog.html">Dialog</a></li><li><a href="DragAndDropChallenge.html">DragAndDropChallenge</a></li><li><a href="DragAndDropController.html">DragAndDropController</a></li><li><a href="Enemy.html">Enemy</a></li><li><a href="EnglishChallenge.html">EnglishChallenge</a></li><li><a href="EnglishChallengesMenu.html">EnglishChallengesMenu</a></li><li><a href="Friend.html">Friend</a></li><li><a href="GridLayout.html">GridLayout</a></li><li><a href="GridLayoutPanel.html">GridLayoutPanel</a></li><li><a href="GridLayoutPopUp.html">GridLayoutPopUp</a></li><li><a href="HealthPack.html">HealthPack</a></li><li><a href="HorizontalLayout.html">HorizontalLayout</a></li><li><a href="HorizontalLayoutPanel.html">HorizontalLayoutPanel</a></li><li><a href="HorizontalLayoutPopUP.html">HorizontalLayoutPopUP</a></li><li><a href="IconButton.html">IconButton</a></li><li><a href="ImageWordMatch.html">ImageWordMatch</a></li><li><a href="InteractionEnemy.html">InteractionEnemy</a></li><li><a href="InteractionManager.html">InteractionManager</a></li><li><a href="InteractiveCar.html">InteractiveCar</a></li><li><a href="InteractiveHouse.html">InteractiveHouse</a></li><li><a href="Intro.html">Intro</a></li><li><a href="Inventory.html">Inventory</a></li><li><a href="InventoryItem.html">InventoryItem</a></li><li><a href="Item.html">Item</a></li><li><a href="ItemGroupView.html">ItemGroupView</a></li><li><a href="ItemsPopUp.html">ItemsPopUp</a></li><li><a href="Level.html">Level</a></li><li><a href="LevelOne.html">LevelOne</a></li><li><a href="LevelThree.html">LevelThree</a></li><li><a href="LevelTwo.html">LevelTwo</a></li><li><a href="MachineGun.html">MachineGun</a></li><li><a href="Menu.html">Menu</a></li><li><a href="MenuItem.html">MenuItem</a></li><li><a href="MyVocabulary.html">MyVocabulary</a></li><li><a href="MyVocabularyItem.html">MyVocabularyItem</a></li><li><a href="NameBoard.html">NameBoard</a></li><li><a href="NPC.html">NPC</a></li><li><a href="Player.html">Player</a></li><li><a href="PopUp.html">PopUp</a></li><li><a href="Preloader.html">Preloader</a></li><li><a href="ResourceBar.html">ResourceBar</a></li><li><a href="Revolver.html">Revolver</a></li><li><a href="SimpleEnemy.html">SimpleEnemy</a></li><li><a href="Store.html">Store</a></li><li><a href="StoreItem.html">StoreItem</a></li><li><a href="StrongEnemy.html">StrongEnemy</a></li><li><a href="StrongestEnemy.html">StrongestEnemy</a></li><li><a href="Utilities.html">Utilities</a></li><li><a href="VerticalLayout.html">VerticalLayout</a></li><li><a href="VerticalLayoutPanel.html">VerticalLayoutPanel</a></li><li><a href="VerticalLayoutPopUP.html">VerticalLayoutPopUP</a></li><li><a href="VocabularyItem.html">VocabularyItem</a></li><li><a href="Weapon.html">Weapon</a></li><li><a href="Wife.html">Wife</a></li><li><a href="WordUnscramble.html">WordUnscramble</a></li><li><a href="WorldItem.html">WorldItem</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BAR_HEIGHT">BAR_HEIGHT</a></li><li><a href="global.html#BAR_WIDTH">BAR_WIDTH</a></li><li><a href="global.html#BOUNCE">BOUNCE</a></li><li><a href="global.html#CAR_GRAVITY">CAR_GRAVITY</a></li><li><a href="global.html#game">game</a></li><li><a href="global.html#GRAVITY">GRAVITY</a></li><li><a href="global.html#INITIAL_HEALTH_LEVEL">INITIAL_HEALTH_LEVEL</a></li><li><a href="global.html#LEFT_DIRECTION">LEFT_DIRECTION</a></li><li><a href="global.html#LEFT_KEY">LEFT_KEY</a></li><li><a href="global.html#MACHINE_GUN_BULLET_KEY">MACHINE_GUN_BULLET_KEY</a></li><li><a href="global.html#MACHINE_GUN_BULLET_POWER">MACHINE_GUN_BULLET_POWER</a></li><li><a href="global.html#MACHINE_GUN_BULLET_SPEED">MACHINE_GUN_BULLET_SPEED</a></li><li><a href="global.html#MACHINE_GUN_FIRE_RATE">MACHINE_GUN_FIRE_RATE</a></li><li><a href="global.html#MACHINE_GUN_KEY">MACHINE_GUN_KEY</a></li><li><a href="global.html#MACHINE_GUN_NEXT_FIRE">MACHINE_GUN_NEXT_FIRE</a></li><li><a href="global.html#MACHINE_GUN_NUMBER_OF_BULLETS">MACHINE_GUN_NUMBER_OF_BULLETS</a></li><li><a href="global.html#MARGIN">MARGIN</a></li><li><a href="global.html#MAX_HEALTH_LEVEL">MAX_HEALTH_LEVEL</a></li><li><a href="global.html#MAX_RANGE_ATTACK">MAX_RANGE_ATTACK</a></li><li><a href="global.html#MAX_RANGE_DETECTION">MAX_RANGE_DETECTION</a></li><li><a href="global.html#MAX_SPEED">MAX_SPEED</a></li><li><a href="global.html#MIN_NUMBER_OF_COLUMNS">MIN_NUMBER_OF_COLUMNS</a></li><li><a href="global.html#MIN_NUMBER_OF_ROWS">MIN_NUMBER_OF_ROWS</a></li><li><a href="global.html#MIN_RANGE_ATTACK">MIN_RANGE_ATTACK</a></li><li><a href="global.html#MIN_RANGE_DETECTION">MIN_RANGE_DETECTION</a></li><li><a href="global.html#MINIMUM_SCORE">MINIMUM_SCORE</a></li><li><a href="global.html#NUMBER_OF_COLUMNS">NUMBER_OF_COLUMNS</a></li><li><a href="global.html#NUMBER_OF_COMIC_IMAGES">NUMBER_OF_COMIC_IMAGES</a></li><li><a href="global.html#NUMBER_OF_CONTEXTS">NUMBER_OF_CONTEXTS</a></li><li><a href="global.html#NUMBER_OF_FIGHTING_POINTS">NUMBER_OF_FIGHTING_POINTS</a></li><li><a href="global.html#NUMBER_OF_ROWS">NUMBER_OF_ROWS</a></li><li><a href="global.html#PRICE">PRICE</a></li><li><a href="global.html#PRICE_INCREASE_RATE">PRICE_INCREASE_RATE</a></li><li><a href="global.html#REVOLVER_BULLET_KEY">REVOLVER_BULLET_KEY</a></li><li><a href="global.html#REVOLVER_BULLET_POWER">REVOLVER_BULLET_POWER</a></li><li><a href="global.html#REVOLVER_BULLET_SPEED">REVOLVER_BULLET_SPEED</a></li><li><a href="global.html#REVOLVER_FIRE_RATE">REVOLVER_FIRE_RATE</a></li><li><a href="global.html#REVOLVER_KEY">REVOLVER_KEY</a></li><li><a href="global.html#REVOLVER_NEXT_FIRE">REVOLVER_NEXT_FIRE</a></li><li><a href="global.html#REVOLVER_NUMBER_OF_BULLETS">REVOLVER_NUMBER_OF_BULLETS</a></li><li><a href="global.html#RIGHT_DIRECTION">RIGHT_DIRECTION</a></li><li><a href="global.html#RIGHT_KEY">RIGHT_KEY</a></li><li><a href="global.html#SECONDS_BETWEEN_FRAMES">SECONDS_BETWEEN_FRAMES</a></li><li><a href="global.html#SPEED">SPEED</a></li><li><a href="global.html#SPRITE_KEY">SPRITE_KEY</a></li><li><a href="global.html#WORD_DELAY">WORD_DELAY</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Jan 12 2016 02:08:35 GMT+0100 (Hora estándar centroeuropea)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
